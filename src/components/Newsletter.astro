---
import { Button } from "@/components/ui/button";
---

<section class="py-24 bg-gray-50 newsletter-section" id="newsletter">
  <div class="container mx-auto px-4">
    <div class="max-w-2xl mx-auto text-center">
      <div class="relative">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="w-64 h-64 rounded-full bg-brand-yellow/10 blur-2xl"></div>
        </div>
        <img 
          src="/EggPeggyGrey.38a3d5dc.png" 
          alt="Hatching egg" 
          class="mx-auto mb-8 w-40 md:w-48 lg:w-56 relative newsletter-float" 
        />
      </div>
      <h2 class="text-3xl md:text-4xl font-bold mb-4">Stay In The Know</h2>
      <p class="text-lg text-muted-foreground mb-8">
        Here's your invitation to participate in shaping our digital future—not just consuming it.
        Legesher will be hatching beta soon. Subscribe to our newsletter for updates on when Legesher will be welcomed into this world - and how you can help!
      </p>
      <form id="newsletter-form" class="flex flex-col gap-4 max-w-2xl mx-auto">
        <div class="flex flex-col sm:flex-row gap-4">
          <input
            type="text"
            name="firstName"
            placeholder="First Name"
            class="newsletter-input"
            required
          />
          <input
            type="email"
            name="email"
            placeholder="Email Address"
            class="newsletter-input"
            required
          />
        </div>

        <!-- Honeypot field for bot protection -->
        <input
          type="text"
          name="website"
          value=""
          style="position:absolute;left:-9999px"
          tabindex="-1"
          autocomplete="off"
          aria-hidden="true"
        />

        <!-- Language selection -->
        <div class="flex flex-col gap-3 mt-4 text-left">
          <label class="text-sm font-medium text-gray-700">
            Which languages do you know or use? (Optional)
          </label>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Spanish" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Spanish (Español)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Mandarin" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Mandarin (中文)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Hindi" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Hindi (हिन्दी)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Portuguese" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Portuguese (Português)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Arabic" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Arabic (العربية)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Bengali" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Bengali (বাংলা)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Russian" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Russian (Русский)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Japanese" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Japanese (日本語)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="French" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>French (Français)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="German" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>German (Deutsch)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Korean" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Korean (한국어)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Vietnamese" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Vietnamese (Tiếng Việt)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Turkish" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Turkish (Türkçe)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Italian" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Italian (Italiano)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors">
              <input type="checkbox" name="languages" value="Polish" class="rounded border-gray-300 text-brand-yellow focus:ring-brand-yellow">
              <span>Polish (Polski)</span>
            </label>
          </div>
          <input
            type="text"
            name="languagesOther"
            placeholder="Other languages (e.g., Swahili, Tamil, Catalan)"
            class="newsletter-input mt-2"
          />
        </div>

        <Button
          type="submit"
          className="yellow-button mt-2"
        >
          Subscribe
        </Button>
      </form>
      <p id="form-message" class="text-sm text-muted-foreground mt-4">
        Check your email to confirm your subscription. By subscribing, you agree to receive newsletters. We collect your email, name, and optionally language preferences to improve our service. We greatly respect your privacy and you can unsubscribe at any time.
      </p>
    </div>
  </div>
</section>

<style>
  /* Disabled button styling */
  button[type="submit"]:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Ensure smooth transitions */
  button[type="submit"] {
    transition: opacity 0.2s ease-in-out;
  }
</style>

<script src="/scripts/newsletter.js" is:inline></script> 